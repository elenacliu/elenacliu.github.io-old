<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="">
<meta name="theme-color" content="#FFFFFF">
<meta name="color-scheme" content="light dark"><meta property="og:title" content="blockchain" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://elenacliu.github.io/tags/blockchain/" />
<title>blockchain | cliu&#39;s Blog</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.33a48f5432973b8ff9a82679d9e45d67f2c15d4399bd2829269455cfe390b5e8.css" integrity="sha256-M6SPVDKXO4/5qCZ52eRdZ/LBXUOZvSgpJpRVz&#43;OQteg=" crossorigin="anonymous">
  <script defer src="/flexsearch.min.js"></script>
  <script defer src="/en.search.min.7e810a06dff91e30ac94f68c31a2f11e914fdd76fe4fe67215eb84b67c4594e6.js" integrity="sha256-foEKBt/5HjCslPaMMaLxHpFP3Xb&#43;T&#43;ZyFeuEtnxFlOY=" crossorigin="anonymous"></script>
<link rel="alternate" type="application/rss+xml" href="http://elenacliu.github.io/tags/blockchain/index.xml" title="cliu's Blog" />
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><span>cliu&#39;s Blog</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>












  
















</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>blockchain</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  <nav>
  <ul>
  
    
    <li class="book-section-flat">
      <strong>Categories</strong>
      <ul>
      
      </ul>
    </li>
    
  
    
    <li class="book-section-flat">
      <strong>Tags</strong>
      <ul>
      
        <li class="flex justify-between">
          <a href="/tags/Maven/">Maven</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Pose-Estimation/">Pose Estimation</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/OS/">OS</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/figure-skating/">figure skating</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/blockchain/">blockchain</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/openssh/">openssh</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Life/">Life</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Android/">Android</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Android-Tasker/">Android, Tasker</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/">基础知识</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/%E6%9D%82%E9%A1%B9/">杂项</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/%E7%88%B1%E6%9C%BA%E7%BB%B4%E6%8A%A4/">爱机维护</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/git/">git</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/LeetCode/">LeetCode</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/%E7%AE%97%E6%B3%95/">算法</a>
          <span>3</span>
        </li>
      
      </ul>
    </li>
    
  
  </ul>
</nav>


  </aside>
  
 
      </header>

      
      
  
  <article class="markdown book-post">
    <h2>
      <a href="/post/2023-05-26-%E5%8C%BA%E5%9D%97%E9%93%BE%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5/">区块链相关概念解释</a>
    </h2>
    
  <h5>May 26, 2023</h5>



  

  
  <div>
    
      <a href="/tags/blockchain/">blockchain</a>
  </div>
  




    <p>注意：本文仅作技术概念解释，并不输出任何主观投资意见。
本文主要按照以下逻辑组织：
区块链 blockchain、比特币 bitcoin、以太坊 ethereum、智能合约 smart contract、去中心化应用 DApp、代币 token、共识机制 consensus mechanism（内容较多，预计开一篇新的 post 来总结） ERC20 BRC20 区块链 # 从抽象的角度来讲，区块链是一个分布式“账本”。分布式是指区块链是由许多对等的节点（node）共同构成；账本的比喻是指区块链就像一个大账本，存储了每一项交易的信息；至于为什么叫做“区块”“链”，是因为多个交易（transaction）的执行会形成一个新的区块（block）来保存交易信息，而这些区块以链（chain）的形式连接起来（类似计算机数据结构中的链表），实际上，每个区块都记录了它前一个区块的唯一哈希标识（hash），而当前区块的标识则由时间戳、前面区块的标识和当前区块的内容共同计算得到。如果区块的内容被矿工（miner）核验（verify，其实就是挖矿，具体操作将在后面的“共识机制”部分解释）通过，那么新区块就会诞生并连接到区块链上（这个过程也成为“上链”）。
因此，一旦有人改动了链上区块的内容，该区块及其所有后继区块的标识会“失效”（如何定义“失效”将在后面的“共识机制”部分进行解释），可能导致分布式环境中该节点被认为是出错或恶意节点，被排除出去。
一个形象的在线 demo，可以帮助理解区块链：
https://andersbrownworth.com/blockchain/blockchain
区块链分叉 # 因为区块链是去中心化的数据结构，所以不同副本之间不能总是保持一致。区块有可能在不同时间到达不同节点，导致节点有不同的区块链视角。解决的办法是，每一个节点总是选择并尝试延长代表累计了最大工作量证明的区块链，也就是最长的或最大累计难度的链。节点通过将记录在每个区块中的难度加总起来，得到建立这个链所要付出的工作量证明的总量。只要所有的节点选择最长累计难度的区块链，整个比特币网络最终会收敛到一致的状态。分叉即在不同区块链间发生的临时差异，当更多的区块添加到了某个分叉中，这个问题便会迎刃而解。
从理论上来说，两个区块的分叉是有可能的，这种情况发生在因先前分叉而相互对立起来的矿工，又几乎同时发现了两个不同区块的解。然而，这种情况发生的几率是很低的。单区块分叉每周都会发生，而双块分叉则非常罕见。所以这里提到的区块链分叉是区块链的一种临时状态，最终分叉很大概率会消失。
比特币将区块间隔设计为10分钟，是在更快速的交易确认和更低的分叉概率间作出的妥协。更短的区块产生间隔会让交易清算更快地完成，也会导致更加频繁地区块链分叉。与之相对地，更长的间隔会减少分叉数量，却会导致更长的清算时间。
本节参考资料：
Understanding Double-Spending and How to Prevent Attacks (investopedia.com)
https://ethereum.org/en/developers/docs/intro-to-ethereum/
https://www.8btc.com/books/261/master_bitcoin/_book/8/8.html
比特币 # 挖矿奖励 # 矿工们通过为比特币网络提供算力来换取获得比特币奖励的机会。矿工们在挖矿过程中会得到两种类型的奖励：创建新区块的新币奖励，以及区块中所含交易的交易费。
上面所述区块链需要有矿工核验区块内容并将区块上链，这个过程需要消耗算力。为了激励各计算节点进行计算，如果某计算节点成功核验区块内容并计算得到了该区块的 hash（挖矿），那么这个节点就会得到创建新区块的比特币奖励。
矿工们同时也会获取交易费。每笔交易都可能包含一笔交易费，交易费是每笔交易记录的输入和输出的差额。在挖矿过程中成功“挖出”新区块的矿工可以得到该区块中包含的所有交易“小费”。目前，这笔费用占矿工收入的0.5%或更少，大部分收益仍来自挖矿所得的比特币奖励。然而随着挖矿奖励的递减，以及每个区块中包含的交易数量增加，交易费在矿工收益中所占的比重将会逐渐增加。在2140年之后，所有的矿工收益都将由交易费构成。
注意，一个区块往往包含多个交易。区块链中的每个区块都包含了产生于该区块的所有交易，且以 Merkle 树表示（关于 Merkle 树的内容，可以参考 mastering bitcoin 书籍的 7.7 节）。而矿工从自己的内存中收集所有交易、准备打包区块时，如果发现某交易提供更多的交易费，那么就会将它作为本次打包优先考虑的交易记录。
挖矿同时还保护着比特币系统的安全，防止欺诈交易，避免“双重支付”，“双重支付”是指多次花费同一笔比特币。该部分将在“共识机制”部分阐述。
交易确认 # 一个区块产生后，并不会被立即信任。网络上的节点总是信任最长的区块链，当一条交易记录被打包进一个区块后，就有了一个“确认”，而在这个区块所在的链后面再加入一个区块，就是第二个确认，如此下去，如果一个交易有了 6 个确认，就认为这个交易已经确定了，会被永远记录在区块链中。6 个确认的理由是：每个确认就是一次挖矿过程，需要提供严格的计算，因此，这 6 个区块被同一个矿工创建的概率很低，所以一个矿工伪造交易不太可能。由于比特币区块的平均产生时间是 10 分钟，所以一个交易最快需要 1 小时左右才能保证成功。
        <a href="/post/2023-05-26-%E5%8C%BA%E5%9D%97%E9%93%BE%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5/">...</a>
      
    </p>
  </article>
  

  
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>





 
        
      </footer>

      
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  <nav>
  <ul>
  
    
    <li class="book-section-flat">
      <strong>Categories</strong>
      <ul>
      
      </ul>
    </li>
    
  
    
    <li class="book-section-flat">
      <strong>Tags</strong>
      <ul>
      
        <li class="flex justify-between">
          <a href="/tags/Maven/">Maven</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Pose-Estimation/">Pose Estimation</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/OS/">OS</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/figure-skating/">figure skating</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/blockchain/">blockchain</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/openssh/">openssh</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Life/">Life</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Android/">Android</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/Android-Tasker/">Android, Tasker</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/">基础知识</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/%E6%9D%82%E9%A1%B9/">杂项</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/%E7%88%B1%E6%9C%BA%E7%BB%B4%E6%8A%A4/">爱机维护</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/git/">git</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/LeetCode/">LeetCode</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/tags/%E7%AE%97%E6%B3%95/">算法</a>
          <span>3</span>
        </li>
      
      </ul>
    </li>
    
  
  </ul>
</nav>

 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












